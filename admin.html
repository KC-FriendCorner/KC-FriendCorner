<!DOCTYPE html>
<html lang="th">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>KC Friend Corner ADMIN</title>

        <link rel="icon" type="image/png" href="admin‡∏õ‡∏Å.png">
        <link
            href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap"
            rel="stylesheet">

        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

        <link rel="stylesheet" href="admin.css">

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js"></script>

    </head>

    <body>

        <div id="loginScreen" class="screen">
            <div id="logoArea">
                <img id="newLogo" class="circular" src="TOBEKC.jpg.jpg"
                    alt="TOBEKC Logo">
                <img id="schoolLogo" src="KC.png" alt="School Logo">
                <img id="friendCornerLogo" class="circular"
                    src="FriendCorner.jpg.png" alt="Friend Corner Logo">
            </div>
            <img id="appTitleImageAdmin" src="KCFCAM.png"
                alt="KC Friend Corner ADMIN">
            <input type="email" id="emailInput" class="input-field"
                placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô">
            <input type="password" id="passwordInput" class="input-field"
                placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">

            <p id="errorMessage"
                style="color: #dc3545; display: none; margin-bottom: 15px; font-weight: 500; text-align: center; padding: 0 5px;"></p>

            <button id="loginBtn" class="primary-button">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        </div>

        <div id="welcomeScreen" class="welcome-screen-container screen"
            style="display: none;">
            <div id="welcomeHeader">
                <div class="welcome-logo-area">
                    <img class="welcome-logo-img circular" src="TOBEKC.jpg.jpg"
                        alt="TOBEKC Logo">
                    <img class="welcome-logo-img" id="welcomeSchoolLogo"
                        src="KC.png" alt="School Logo">
                    <img class="welcome-logo-img circular"
                        src="FriendCorner.jpg.png" alt="Friend Corner Logo">
                </div>
                <br>
                <img id="appTitleImageAdmin" src="KCFCAM.png"
                    alt="KC Friend Corner ADMIN"> <p class="welcome-message"
                    id="welcomeMessage">

                </p>
            </div>

            <div class="welcome-box">
                <div class="welcome-button-group">
                    <button class="primary-button enter-chat-btn"
                        onclick="showListScreen('active')">
                        <i class="fas fa-comments"></i> ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏ô‡∏ó‡∏ô‡∏≤
                        (Active)
                    </button>

                    <button class="secondary-button"
                        onclick="showListScreen('history')">
                        <i class="fas fa-history"></i> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏ä‡∏ó‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß
                    </button>

                    <button id="logoutButton"
                        class="secondary-button logout-full-btn"
                        onclick="adminLogout()">
                        <i class="fas fa-sign-out-alt"></i> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                    </button>
                </div>
            </div>
        </div>

        <div id="adminPanelContainer" class="admin-panel-container"
            style="display: none;">

            <div id="temporaryMessage"
                style="display: none; position: fixed; top: 10px; left: 50%; transform: translateX(-50%); padding: 10px 20px; border-radius: 8px; z-index: 1000; font-weight: 500;">
                ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
            </div>

            <div id="listScreen" class="screen list-screen"
                style="display: none;">
                <div id="chatListPanel" class="list-panel">
                    <div id="chatListHeader" class="chat-list-header">
                        <h3 id="listTitle" class="panel-title">üü¢
                            ‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà</h3>
                        <button id="goHomeBtn"
                            class="secondary-button small-action-btn"
                            onclick="showWelcomeScreen()">
                            <i class="fas fa-home"></i> ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                        </button>
                    </div>
                    <div id="chatList" class="chat-list-container">
                        <p
                            style="color:#777; text-align:center;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏ô‡∏ó‡∏ô‡∏≤...</p>
                    </div>
                </div>
            </div>

            <div id="historyScreen" class="screen list-screen"
                style="display: none;">
                <div id="historyListPanel" class="list-panel">
                    <div id="historyListHeader"
                        class="chat-list-header history-header">
                        <h3 class="panel-title" id="historyListTitle"
                            style="color:#ffffff;">
                            üî¥ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏ä‡∏ó‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß</h3>
                        <button id="backToWelcomeBtn"
                            class="secondary-button small-action-btn"
                            onclick="showWelcomeScreen()">
                            <i class="fas fa-home"></i> ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                        </button>
                    </div>
                    <div id="historyList" class="chat-list-container">
                        <p
                            style="color:#777; text-align:center;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤...</p>
                    </div>
                </div>
            </div>

            <div id="chatScreenContainer" class="chat-screen-container"
                style="display: none;">

                <div id="fullChatView" class="chat-view-panel">

                    <div class="chat-header-bar">

                        <div id="chatTitle">
                            ‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏Å‡∏±‡∏ö ID: <span id="currentUserID"></span>
                        </div>

                        <button id="closeChatBtn" class="danger-button"
                            style="display: none;">
                            <i class="fas fa-power-off"></i> ‡∏à‡∏ö/‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤
                        </button>

                        <button id="backButton">
                            <i class="fas fa-arrow-left"></i> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏ó
                        </button>

                    </div>

                    <div id="chatBox" class="chat-box-base">
                    </div>

                    <div class="input-area">
                        <textarea id="chatInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°..."
                            rows="1"></textarea>
                        <button id="sendButton" class="primary-button"><i
                                class="fas fa-paper-plane"></i> ‡∏™‡πà‡∏á</button>
                    </div>

                </div>
            </div>

        </div>

        <audio id="notifySound" src="notification.mp3" preload="auto"></audio>

        <script
            src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
        <script
            src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
        <script
            src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js"></script>
        <script src="admin.js"></script>

    </body>

</html>